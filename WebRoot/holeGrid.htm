
<!DOCTYPE HTML>
<!-- <html manifest="generator.manifest">  -->
<html>
	<head>
    <meta name="viewport" content="width=device-width">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Highcharts Example</title>

		<script type="text/javascript" src="./support/jquery-1.11.2.min.js"></script>
    	<script type="text/javascript" src="./support/bootstrap/js/bootstrap.min.js"></script>    
        <link href="./support/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
		<script type="text/javascript" src="./support/easyui/jquery.easyui.min.js"></script>  

        <link rel="stylesheet" type="text/css" href="./support/datatable/media/css/jquery.dataTables.min.css">
    	<script type="text/javascript" src="./support/datatable/media/js/jquery.dataTables.min.js"></script> 
        <!--日期选择框-->
		<script src="./support/datepicker/js/mobiscroll.core-2.5.2.js" type="text/javascript"></script>
        <script src="./support/datepicker/js/mobiscroll.core-2.5.2-zh.js" type="text/javascript"></script>
        <link href="./support/datepicker/css/mobiscroll.core-2.5.2.css" rel="stylesheet" type="text/css" />
        <link href="./support/datepicker/css/mobiscroll.animation-2.5.2.css" rel="stylesheet" type="text/css" />
        <script src="./support/datepicker/js/mobiscroll.datetime-2.5.1.js" type="text/javascript"></script>
        <script src="./support/datepicker/js/mobiscroll.datetime-2.5.1-zh.js" type="text/javascript"></script>
        <script src="./support/datepicker/js/mobiscroll.android-ics-2.5.2.js" type="text/javascript"></script>
        <link href="./support/datepicker/css/mobiscroll.android-ics-2.5.2.css" rel="stylesheet" type="text/css" />        
		
    	<link href="./support/threeMainPage.css" rel="stylesheet" type="text/css" />
		<script src="./support/jquery.json.min.js" type="text/javascript"></script>
		
				<script type="text/javascript" src="./support/threeMainPage.js"></script>
		<script type="text/javascript">
		var optionContainer =null;
		var tableColumnName = ["全省发电","直调火电","直调水电","直调风电","直调核电","联络线净受"];
		
		
		
$(function () {

		
		
		optionContainer={
			chart:{
				spacingLeft:0,
				renderTo: 'lineContainer'
			},
			colors:['#00ff00','#0000ff','#ff0000'],
			plotOptions:{
				line:{
					lineWidth:2,
					pointStart:1
				}
			},
			exporting:{
				enabled:false
			},
			credits:{
				enabled:'false',
				text:''
			},
			labels:{
			},
            title: {
                text: '全网月度发电量',
//                  x: -20, //center 
            },
            subtitle: {
                text: '',
                x: -20
            },
            xAxis: {
//                  categories: ['1', '2', '3', '4', '5', '6',
//                     '7', '8', '9', '10', '1', '12'], 
            },
            yAxis: {
                title: {
                    text: '电量 (万千瓦时)',
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
					
                }],
				labels:{

				}
            },
            tooltip: {
//                 valueSuffix: '万千瓦时',
//                 headerFormat:"<span style=\"font-size: 10px\">$(\"#appDate\").value(),{point.key}</span><br/>",
//                 pointFormat:"{series.name}:<b>aaa{point.y}</b>"
				formatter:function(){
					
					var s = ''+this.series.name+':'+(this.x)+"日"+'';
					s += '<br/>'+this.y+'万千瓦时';
					return s;
				}
            },
            legend: {
//                  layout: 'vertical',
//                 align: 'right',
// 				verticalAlign:'top',
// 				floating:'true',
// 				y:50,
//                 borderWidth: 0, 
            },
            series: [{
                name: '同期',
                data: [12.0, 12.9, 12.5, 14.5, 18.2, 21.5, 25.2, 14.5, 16.3, 18.3, 13.9, 9.6,
                		12.0, 12.9, 12.5, 14.5, 18.2, 21.5, 25.2, 14.5, 16.3, 18.3, 13.9, 9.6,
                		12.0, 12.9, 12.5, 14.5, 18.2]
            }, {
                name: '上月',
                data:  [10.0, 10.9, 12.5, 12.9, 16.2, 22.5, 22.2, 12.5, 12.3, 12.3, 13.9, 16.6,
                		17.0, 15.9, 15.5, 15.5, 15.2, 23.5, 22.2, 15.5, 13.3, 14.3, 17.9, 15.6,
                		16.0, 12.9, 14.5, 13.5, 11.2]
            }, {
                name: '本月',
                data:  [12.0, 13.9, 14.5, 14.9, 19.2, 26.5, 23.2, 18.5, 19.3, 19.3, 15.9, 12.6,
                		19.0, 10.9, 14.5, 17.5, 19.2, 24.5, 24.2, 18.5, 19.3, 19.3, 15.9, 12.6,
                		14.0, 15.9, 15.5, 16.5, 15.2]
            }]
        };//全网线图
        
        chart = new Highcharts.Chart(optionContainer);
        
    });		


	var table_example_id2 = null; 




	$(document).ready(function() {
	
		//$('#table_id1').DataTable();
		if($("#table_example").length > 0)
		{
			table_example_id2 = $("#table_example").DataTable({
// 		        "processing": true,
		        "ajax":{
		        	url:"/pimsPhone/HoleGridServlet",
		        	type:"POST",
		        	data:function ( d ) { return $('#appDate').serialize(); },
		        "dataSrc":function(json){//在此操作来自服务器的数据，把表格的返回给dataTables，把页面其余部分的给拦截下来
			      	//alert(json.line1);
			      	//$("#loading").html(json.line1);
			      	optionContainer.series=[
			      	{
			      		name: '同期',
			      		data:json.lastYear
			      	},{
			      		name: '上月',
			      		data:json.lastMonth
			      	},{
			      		name: '本月',
			      		data:json.thisMonth
			      	}];
			      	chart = new Highcharts.Chart(optionContainer);
			      	
			      	
			      	
			      	return json.data;
      			}
		        } ,
		        	paging:false,
					searching:false,
					info:false,
					ordering: false,
					initComplete: function () {
					  this.api().on( 'draw', function () {
					    alert( 'draw' );
					  } );
					}
			});
		}
	
	
	});
		submitRequest = function(){

		if(table_example_id2!=null)
			table_example_id2.ajax.url("/pimsPhone/HoleGridServlet").load();
						
	};




		</script>

	</head>
<body>
<script src="./support/highcharts/js/highcharts.js"></script>
<script src="./support/highcharts/js/modules/exporting.js"></script>


		
<div style="clear:both;height:10px"></div>
<div style="margin-left:20px;margin-right:20px">
	<div style=";float:left">	
        <label for="test_default" style="float:left;;width:80px">日&nbsp;&nbsp;&nbsp;&nbsp;期</label>
        <input type="text" name="date" id="appDate" style="width:100px;float:left" />
    </div>
	<div style="float:right;">
		<button id="submitxx" class="btn btn-primary" 
			style="margin:5px 0;height:30px;width:50px"
			 onclick="submitRequest()">查询
		</button>
	</div>
</div>


<div style="text-align:center">
<div id="lineContainer" style="width: 95%;height: 400px;margin-left:auto;margin-right:auto"></div>
</div>


<br>
<hr>
<br>

<div style="text-align:center">

	<table id="table_example" class="display cell-border"  style="height:300px;margin-left:auto;margin-right:10px">   
		<caption style="text-align:center;font-size:18px;color:#000000">当日电网发电情况</caption>
	
	    <thead style="background-color:#30a4dd;color:#ffffff;">   
	        <tr>   
	            <th >&nbsp;&nbsp;&nbsp;&nbsp;</th>   
	            <th >日发电(万)</th>   
	            <th >月发电(亿)</th> 
	            <th >年发电(亿)</th>   
	            <th >月同比</th>   
	            <th >年同比</th>    
	        </tr>   
	    </thead>   
	    <tbody >   
	        <tr>   
	        	<td>全省发电</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td>   
	        </tr>   
	        <tr>   
	        	<td>直调火电</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td>    
	        </tr>
	        <tr>   
	            <td>直调水电</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td>   
	        </tr>
	        <tr>   
	            <td>直调风电</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td>    
	        </tr>
	        <tr>   
	            <td>直调核电</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td>  
	        </tr>
	        <tr>   
	            <td>联络线净受</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td>  
	        </tr>
	    </tbody>  
	</table>  

</div>
	<div style="clear:both;height:20px"></div>

</body>
</html>
